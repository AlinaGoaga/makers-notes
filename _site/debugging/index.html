<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Debugging</title>
    <meta name="description" content="Notes from Makers Academy.
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/debugging/">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Makers Notes</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/io/">IO</a>
          
        
          
          <a class="page-link" href="/ajax/">AJAX</a>
          
        
          
          <a class="page-link" href="/associations/">Associations</a>
          
        
          
          <a class="page-link" href="/blocksprocslambdas/">Blocks, Procs and Lambdas</a>
          
        
          
          <a class="page-link" href="/classes/">Classes</a>
          
        
          
          <a class="page-link" href="/collections/">Collections</a>
          
        
          
          <a class="page-link" href="/css/">CSS and the Box Model</a>
          
        
          
          <a class="page-link" href="/databases/">Databases</a>
          
        
          
          <a class="page-link" href="/datetime/">Date and Time</a>
          
        
          
          <a class="page-link" href="/debugging/">Debugging</a>
          
        
          
          <a class="page-link" href="/designpatterns/">Design Patterns</a>
          
        
          
        
          
          <a class="page-link" href="/gems/">Gems</a>
          
        
          
          <a class="page-link" href="/git-github/">Git and GitHub</a>
          
        
          
        
          
          <a class="page-link" href="/inheritanceandcomposition/">Inheritance and Composition</a>
          
        
          
          <a class="page-link" href="/javascript/">Javascript</a>
          
        
          
          <a class="page-link" href="/logic/">Logic and Booleans</a>
          
        
          
        
          
          <a class="page-link" href="/pairing/">Pair programming</a>
          
        
          
          <a class="page-link" href="/rspec/">RSpec</a>
          
        
          
          <a class="page-link" href="/security/">Security</a>
          
        
          
          <a class="page-link" href="/settersandgetters/">Setter and Getter methods</a>
          
        
          
          <a class="page-link" href="/sinatra/">Sinatra</a>
          
        
          
          <a class="page-link" href="/super/">Super</a>
          
        
          
          <a class="page-link" href="/testingstyles/">Testing Styles</a>
          
        
          
          <a class="page-link" href="/yield/">Yield</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Debugging</h1>
  </header>

  <article class="post-content">
    <h3>Read the error message</h3>

<p>When you encounter an error in testing, always read the error message carefully
– preferably read it aloud! Often, reading the error itself is enough to spot
and fix the bug.</p>

<h3>Look at the stack trace</h3>

<p>If not, look through the stack trace that appears below the error message, which
will guide you through the lines of code that were executed when the error
appeared. Look at those lines carefully to try and spot the error, using the
error message and type to guide you.</p>

<p>If you&#39;ve got a big string of classes linked up with <code>::</code>, only look at the last
one in the list when fixing the bugs.</p>

<h3>Run your code in <code>irb</code></h3>

<p>Run <code>irb</code> (the interactive Ruby prompt, or <code>pry</code> for those inclined) and
<code>require</code> your code files. From there, you can start creating instances of your
custom class objects and play with them – calling custom methods on them, seeing
what the outputs are, and where your errors might be appearing.</p>

<h3>Sanity checking values</h3>

<p>If you can&#39;t see where a value is being created in a particular chunk of code,
try editing the code and entering a custom value to see if that value appears in
your error.</p>

<p>Commenting out lines of code to isolate the one that&#39;s broken is also a useful
technique.</p>

<h3><code>.inspect</code></h3>

<p>Inside your RSpec test, you can add a <code>raise</code> method, and then use <code>inspect</code> on
an object to print out its details in your RSpec test log. This can be a very
powerful way of interrupting a method to see exactly what&#39;s going wrong and at
what point. Similarly, you can use <code>puts</code> inside your code to print out the
value of a variable or result of a method to inspect it.</p>

<p>A handy shorthand way of writing <code>puts</code> for debugging is just using <code>p</code>, which
is the equivalent of <code>puts an_object.inspect</code>. And saves you a whole three
letters to type.</p>

<h3>Big failures</h3>

<p>Segmentation faults can be a pain to debug because they don&#39;t provide the stack
trace or any other useful data. Find the file the error refers to and comment
out the entire thing – then uncomment each method, one-by-one, and test to see
which error raises the segfault (or the similar &#39;stack level too deep&#39; error).</p>

<p>Note it may be better to go through the test file and commment out the tests to
help identify which one is bringin the wrath of Seg Fault on you. If you&#39;re
lucky you&#39;ll even get it to the point where you can get a usable message like
<code>stack level too deep</code>, which is caused by an infinite loop somewhere (which
itself will cause the <code>segmentation fault</code> when your computer runs out of
memory).</p>

<h3>Code style</h3>

<p>Indentation is important! Unlike in other languages, the Ruby interpreter
doesn&#39;t care about indentation. But a lack of proper indentation makes it much
harder to spot missing <code>do</code>s and <code>end</code>s and other syntax errors.</p>

<h3>Focus on a test with RSpec</h3>

<p>Add the following line to your spec/spec_helper.rb file (you&#39;ll need to have
initialised it with <code>rspec --init</code> first):</p>

<p><code>ruby filter_run :focus =&gt; true</code></p>

<p>This allows you to prepend a specific test with <code>fit</code> (instead of the usual
<code>it</code>) to focus in on it when running RSpec.</p>

<p>Make sure to change <code>fit</code> back to <code>it</code> when done, otherwise all of your tests
will be ignored.</p>

<h3><code>xit</code> through the Gift Shop</h3>

<p>And finally, if you just want to park that test and ignore it while you get on
with something else, change the <code>it</code> to an <code>xit</code> to make the test show as
pending when you run Rspec (making orange the new green).</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Makers Notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Makers Notes</li>
          <li><a href="mailto:henry@henrystanley.om">henry@henrystanley.om</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Notes from Makers Academy.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
